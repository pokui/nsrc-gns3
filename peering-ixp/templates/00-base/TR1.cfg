!
version 15.7
service timestamps debug datetime msec
service timestamps log datetime msec
service password-encryption
!
hostname TR1
!
boot-start-marker
boot-end-marker
!
!
no logging console
enable secret 5 $1$D1SG$A.RX6EM0i.8jY90/Pj.sy1
!
aaa new-model
!
!
aaa authentication login default local
aaa authentication enable default enable
!
!
!
!
!
aaa session-id common
!
!
!
mmi polling-interval 60
no mmi auto-configure
no mmi pvc
mmi snmp-timeout 180
!
!
!
!
!
fhrp version vrrp v3
!
!
!
!
!
!
no ip domain lookup
ip name-server 192.168.122.1
ip cef
no ipv6 source-route
ipv6 unicast-routing
ipv6 cef
!
multilink bundle-name authenticated
!
!
!
!
username isplab secret 5 $1$wSfF$s801CqE7JfglfXMGJmbR7/
!
redundancy
!
!
ip tcp path-mtu-discovery
! 
!
!
!
!
!
!
!
!
!
!
!
!
interface GigabitEthernet0/0
 description Link to TR2 (and to the world)
 ip address 100.121.0.0 255.255.255.254 secondary
 ip address 192.168.122.2 255.255.255.0
 duplex auto
 speed auto
 media-type rj45
 ipv6 address FE80::2 link-local
 ipv6 address 2001:18::/127
 ipv6 address 2001:DB8::2/64
 ipv6 nd prefix default no-advertise
 ipv6 nd ra suppress all
 vrrp 1 address-family ipv4
  address 192.168.122.254 primary
  exit-vrrp
 vrrp 2 address-family ipv6
  address FE80::254 primary
  address 2001:DB8::254/64
  exit-vrrp
!
interface GigabitEthernet0/1
 description Link to AS10
 ip address 100.121.1.0 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:10::/127
!
interface GigabitEthernet0/2
 description Link to AS20
 ip address 100.121.1.2 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:11::/127
!
interface GigabitEthernet0/3
 description Link to AS30
 ip address 100.121.1.4 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:12::/127
!
interface GigabitEthernet0/4
 description Link to AS40
 ip address 100.121.1.6 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:13::/127
!
interface GigabitEthernet0/5
 description Link to AS50
 ip address 100.121.1.8 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:14::/127
!
interface GigabitEthernet0/6
 description Link to AS60
 ip address 100.121.1.10 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:15::/127
!
interface GigabitEthernet0/7
 description Link to AS70
 ip address 100.121.1.12 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:16::/127
!
interface GigabitEthernet0/8
 description Link to AS80
 ip address 100.121.1.14 255.255.255.254
 duplex auto
 speed auto
 media-type rj45
 ipv6 address 2001:18:0:17::/127
!
router bgp 121
 bgp log-neighbor-changes
 bgp deterministic-med
 no bgp default ipv4-unicast
 neighbor 2001:18::1 remote-as 122
 neighbor 2001:18::1 description eBGP with TR2
 neighbor 2001:18::1 ttl-security hops 1
 neighbor 2001:18::1 password 7 112B3E351B1309
 neighbor 2001:18:0:10::1 remote-as 10
 neighbor 2001:18:0:10::1 password 7 106C2E29091610
 neighbor 2001:18:0:11::1 remote-as 20
 neighbor 2001:18:0:11::1 password 7 00263436085A09
 neighbor 2001:18:0:12::1 remote-as 30
 neighbor 2001:18:0:12::1 password 7 112B3E351B1309
 neighbor 2001:18:0:13::1 remote-as 40
 neighbor 2001:18:0:13::1 password 7 0224236B07070D
 neighbor 2001:18:0:14::1 remote-as 50
 neighbor 2001:18:0:14::1 password 7 08036B7E051807
 neighbor 2001:18:0:15::1 remote-as 60
 neighbor 2001:18:0:15::1 password 7 0529213F2D4D4C
 neighbor 2001:18:0:16::1 remote-as 70
 neighbor 2001:18:0:16::1 password 7 08036B7E051807
 neighbor 2001:18:0:17::1 remote-as 80
 neighbor 2001:18:0:17::1 password 7 0529213F2D4D4C
 neighbor 100.121.0.1 remote-as 122
 neighbor 100.121.0.1 description eBGP with TR2
 neighbor 100.121.0.1 ttl-security hops 1
 neighbor 100.121.0.1 password 7 08036B7E051807
 neighbor 100.121.1.1 remote-as 10
 neighbor 100.121.1.1 password 7 096E6939150415
 neighbor 100.121.1.3 remote-as 20
 neighbor 100.121.1.3 password 7 0224236B07070D
 neighbor 100.121.1.5 remote-as 30
 neighbor 100.121.1.5 password 7 06242811404F0B
 neighbor 100.121.1.7 remote-as 40
 neighbor 100.121.1.7 password 7 00263436085A09
 neighbor 100.121.1.9 remote-as 50
 neighbor 100.121.1.9 password 7 0529213F2D4D4C
 neighbor 100.121.1.11 remote-as 60
 neighbor 100.121.1.11 password 7 13273022070D06
 neighbor 100.121.1.13 remote-as 70
 neighbor 100.121.1.13 password 7 0529213F2D4D4C
 neighbor 100.121.1.15 remote-as 80
 neighbor 100.121.1.15 password 7 13273022070D06
 !
 address-family ipv4
  network 100.121.0.0 mask 255.255.0.0
  neighbor 100.121.0.1 activate
  neighbor 100.121.1.1 activate
  neighbor 100.121.1.1 default-originate
  neighbor 100.121.1.3 activate
  neighbor 100.121.1.3 default-originate
  neighbor 100.121.1.5 activate
  neighbor 100.121.1.5 default-originate
  neighbor 100.121.1.7 activate
  neighbor 100.121.1.7 default-originate
  neighbor 100.121.1.9 activate
  neighbor 100.121.1.9 default-originate
  neighbor 100.121.1.11 activate
  neighbor 100.121.1.11 default-originate
  neighbor 100.121.1.13 activate
  neighbor 100.121.1.13 default-originate
  neighbor 100.121.1.15 activate
  neighbor 100.121.1.15 default-originate
  distance bgp 200 200 200
 exit-address-family
 !
 address-family ipv6
  distance bgp 200 200 200
  network 2001:18::/32
  neighbor 2001:18::1 activate
  neighbor 2001:18:0:10::1 activate
  neighbor 2001:18:0:10::1 default-originate
  neighbor 2001:18:0:11::1 activate
  neighbor 2001:18:0:11::1 default-originate
  neighbor 2001:18:0:12::1 activate
  neighbor 2001:18:0:12::1 default-originate
  neighbor 2001:18:0:13::1 activate
  neighbor 2001:18:0:13::1 default-originate
  neighbor 2001:18:0:14::1 activate
  neighbor 2001:18:0:14::1 default-originate
  neighbor 2001:18:0:15::1 activate
  neighbor 2001:18:0:15::1 default-originate
  neighbor 2001:18:0:16::1 activate
  neighbor 2001:18:0:16::1 default-originate
  neighbor 2001:18:0:17::1 activate
  neighbor 2001:18:0:17::1 default-originate
 exit-address-family
!
ip forward-protocol nd
!
!
no ip http server
no ip http secure-server
ip route 0.0.0.0 0.0.0.0 192.168.122.1
ip route 100.121.0.0 255.255.0.0 Null0
!
ipv6 route 2001:18::/32 Null0
ipv6 route ::/0 GigabitEthernet0/0 FE80::1
ipv6 ioam timestamp
!
snmp-server community NetManage RO
snmp-server location NSRC Workshop
snmp-server chassis-id 
!
!
!
!
control-plane
!
banner incoming ^
**************************************************************************
* IOSv is strictly limited to use for evaluation, demonstration and IOS  *
* education. IOSv is provided as-is and is not supported by Cisco's      *
* Technical Advisory Center. Any use or disclosure, in whole or in part, *
* of the IOSv Software or Documentation to any third party for any       *
* purposes is expressly prohibited except as otherwise authorized by     *
* Cisco in writing.                                                      *
**************************************************************************^
banner login ^
Campus Network Design and Operations Workshop Lab
          Network Startup Resource Center
^
!
line con 0
 transport preferred none
 stopbits 1
line aux 0
 stopbits 1
line vty 0 4
 transport preferred none
 transport input telnet ssh
!
no scheduler allocate
!
end

